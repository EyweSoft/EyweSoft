var KisBpmOutParametersCtrl=["$scope","$modal","$timeout","$translate",function(e,r,a,t){r({template:"editor-app/configuration/properties/out-parameters-popup.html?version="+Date.now(),scope:e})}],KisBpmOutParametersPopupCtrl=["$scope","$q","$translate",function(e,r,a){void 0!==e.property.value&&null!==e.property.value&&void 0!==e.property.value.outParameters&&null!==e.property.value.outParameters?e.parameters=angular.copy(e.property.value.outParameters):e.parameters=[],e.selectedParameters=[],e.translationsRetrieved=!1,e.labels={};var t=a("PROPERTY.PARAMETER.SOURCE"),s=a("PROPERTY.PARAMETER.SOURCEEXPRESSION"),l=a("PROPERTY.PARAMETER.TARGET");r.all([t,s,l]).then((function(r){e.labels.sourceLabel=r[0],e.labels.sourceExpressionLabel=r[1],e.labels.targetLabel=r[2],e.translationsRetrieved=!0,e.gridOptions={data:"parameters",enableRowReordering:!0,headerRowHeight:28,multiSelect:!1,keepLastSelected:!1,selectedItems:e.selectedParameters,columnDefs:[{field:"source",displayName:e.labels.sourceLabel},{field:"sourceExpression",displayName:e.labels.sourceExpressionLabel},{field:"target",displayName:e.labels.targetLabel}]}})),e.addNewParameter=function(){e.parameters.push({source:"",sourceExpression:"",target:""})},e.removeParameter=function(){if(e.selectedParameters.length>0){var r=e.parameters.indexOf(e.selectedParameters[0]);e.gridOptions.selectItem(r,!1),e.parameters.splice(r,1),e.selectedParameters.length=0,r<e.parameters.length?e.gridOptions.selectItem(r+1,!0):e.parameters.length>0&&e.gridOptions.selectItem(r-1,!0)}},e.moveParameterUp=function(){if(e.selectedParameters.length>0){var r=e.parameters.indexOf(e.selectedParameters[0]);if(0!=r){var a=e.parameters[r];e.parameters.splice(r,1),$timeout((function(){e.parameters.splice(r+-1,0,a)}),100)}}},e.moveParameterDown=function(){if(e.selectedParameters.length>0){var r=e.parameters.indexOf(e.selectedParameters[0]);if(r!=e.parameters.length-1){var a=e.parameters[r];e.parameters.splice(r,1),$timeout((function(){e.parameters.splice(r+1,0,a)}),100)}}},e.save=function(){e.parameters.length>0?(e.property.value={},e.property.value.outParameters=e.parameters):e.property.value=null,e.updatePropertyInModel(e.property),e.close()},e.cancel=function(){e.close()},e.close=function(){e.property.mode="read",e.$hide()}}];