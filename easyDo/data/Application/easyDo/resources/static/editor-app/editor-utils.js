var EDITOR=EDITOR||{};EDITOR.UTIL={getParameterByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null==t?"":decodeURIComponent(t[1].replace(/\+/g," "))},collectPropertiesFromPrecedingElements:function(e,t){var r=[];return EDITOR.UTIL._visitElementAndCollectProperty(e,t,[],r),r},collectElementsFromPrecedingElements:function(e,t){var r=[],n=[],i=e.getIncomingShapes();if(i)for(var o=0;o<i.length;o++){var l=i[o];r.indexOf(l.id)<0&&EDITOR.UTIL._visitElementAndCollectElement(l,t,r,n)}return n},_visitElementAndCollectProperty:function(e,t,r,n){r.push(e.id);var i=e.properties[t];i&&n.push(i);var o=e.getIncomingShapes();if(o)for(var l=0;l<o.length;l++){var a=o[l];r.indexOf(a.id)<0&&EDITOR.UTIL._visitElementAndCollectProperty(a,t,r,n)}},_visitElementAndCollectElement:function(e,t,r,n){r.push(e.id);var i=e.getStencil().id();i&&i.indexOf(t)>=0&&n.push(e);var o=e.getIncomingShapes();if(o)for(var l=0;l<o.length;l++){var a=o[l];r.indexOf(a.id)<0&&EDITOR.UTIL._visitElementAndCollectElement(a,t,r,n)}},getPropertyFromParent:function(e,t){return e.parent?EDITOR.UTIL._getPropertyFromParent(e.parent,t):void 0},_getPropertyFromParent:function(e,t){var r=e.properties[t];return r||(e.parent?EDITOR.UTIL._getPropertyFromParent(e.parent,t):void 0)}};