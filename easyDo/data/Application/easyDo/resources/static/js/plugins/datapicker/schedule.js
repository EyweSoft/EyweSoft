function getWeek(e){if(e){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(e).getDay()]}return""}!function(e){var t;function a(e,t,a){return t&&(t=t.toString()[1]?t:"0"+t),a?e+"-"+(t?t+"-":"")+((a=a.toString()[1]?a:"0"+a)||""):e+"年"+(t?t+"月":"")+(a?a+"日":"")}function n(e){var t=new Date(e);return isNaN(t.getTime())?(console.error(e+" is invalid date"),""):t.getTime()}function r(e){if(!Array.isArray(e))return[];e=e||[];for(var t=[],n=0;n<e.length;n++){var r=e[n],i=new Date(r);if(isNaN(i.getTime()))console.error(r+" is invalid date");else{var l=a(i.getFullYear(),i.getMonth()+1,i.getDate());t.push(l)}}return t}function i(e){e=function(e,t,a){for(var n in t)!t.hasOwnProperty(n)||e.hasOwnProperty(n)&&!a||(e[n]=t[n]);return e}({},e,!0);var t=e.date?new Date(e.date):new Date,i=e.disabledDate?r(e.disabledDate):[],l=e.selectedDate?r(e.selectedDate):[],s=e.disabledBefore?n(e.disabledBefore):"",o=e.disabledAfter?n(e.disabledAfter):"",d=e.showToday,u=t.getFullYear(),c=t.getMonth(),f=t.getFullYear(),h=t.getMonth(),v=t.getDate(),y="",p=document.querySelector(e.el)||document.querySelector("body"),b=this,g=function(){for(var e=new Date(u,c+1,0).getDate(),t=new Date(u,c,1).getDay(),n=(e+t)%7==0?e+t:e+t+(7-(e+t)%7),r=new Date(u,c,0).getDate(),d=[],b=$("#curWorkdays").val().split(","),g=0;g<n;g++){var w=a(u,c+1,g+1-t),x=new Date(w).getTime(),D=i.indexOf(w)>-1,M=l.indexOf(w)>-1,m=getWeek(w);if(g<t)d.push('<li class="other-month"><span class="dayStyle">'+(r-t+1+g)+"</span></li>");else if(g<t+e){var Y="";D?Y="disabled":(M&&(Y="selected-style"),y==w&&(Y="active-style"),a(f,h+1,v)==w&&(Y="today-flag")),s&&x<s&&(Y="disabled"),o&&x>o&&(Y="disabled");var S=g+1-t;b.includes(S+"")||(Y+=" non-workday"),d.push('<li class="current-month '+m+'" ><span title='+w+' class="currentDate dayStyle '+Y+'">'+S+"</span></li>")}else d.push('<li class="other-month"><span class="dayStyle">'+(g+1-(t+e))+"</span></li>")}p.querySelector(".schedule-bd").innerHTML=d.join("");var k=c+1;p.querySelector(".today").innerHTML=a(u,k),$("#curMonth").attr("val",u+""+(k<10?"0"+k:k))};this.nextMonthFun=function(){c+1>11?(u+=1,c=0):c+=1,e.nextMonthCb&&e.nextMonthCb(u,c+1),g()},this.nextYearFun=function(){u+=1,e.nextYeayCb&&e.nextYeayCb(u,c+1),g()},this.prevMonthFun=function(){c-1<0?(u-=1,c=11):c-=1,e.prevMonthCb&&e.prevMonthCb(u,c+1),g()},this.prevYearFun=function(){u-=1,e.prevYearCb&&e.prevYearCb(u,c+1),g()},this.renderToday=function(){u===f&&c===h||(u=f,c=h,g())},p.innerHTML='<div class="schedule-hd"><div class="arrow-box"><span class="arrow fa fa-angle-double-left" id="prevYear" ></span><span class="arrow fa fa-angle-left ml20" id="prevMonth"></span></div><div class="today" id="curMonth"></div><div class="arrow-box"><span class="arrow fa fa-angle-right mr20" id="nextMonth"></span><span class="arrow fa fa-angle-double-right" id="nextYear"></span></div></div><ul class="week-ul ul-box"><li>日</li><li>一</li><li>二</li><li>三</li><li>四</li><li>五</li><li>六</li></ul><ul class="schedule-bd ul-box" ></ul>'+(d?'<div id="todayBtn" class="today">今天</div>':""),p.addEventListener("click",(function(t){switch(t.target.id){case"nextMonth":b.nextMonthFun();break;case"nextYear":b.nextYearFun();break;case"prevMonth":b.prevMonthFun();break;case"prevYear":b.prevYearFun();break;case"todayBtn":b.renderToday()}t.target.className.indexOf("currentDate")>-1&&(y=t.target.title,e.clickCb&&e.clickCb(y))}),!1),g()}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),t=function(){return this||(0,eval)("this")}(),"undefined"!=typeof module&&module.exports?module.exports=i:"function"==typeof define&&define.amd?define((function(){return i})):!("Schedule"in t)&&(t.Schedule=i)}();