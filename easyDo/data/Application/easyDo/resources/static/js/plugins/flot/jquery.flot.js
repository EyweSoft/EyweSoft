/*! Javascript plotting library for jQuery, v. 0.7.
 *
 * Released under the MIT license by IOLA, December 2007.
 *
 */
!function(t){t.color={},t.color.make=function(i,e,n,o){var a={};return a.r=i||0,a.g=e||0,a.b=n||0,a.a=null!=o?o:1,a.add=function(t,i){for(var e=0;e<t.length;++e)a[t.charAt(e)]+=i;return a.normalize()},a.scale=function(t,i){for(var e=0;e<t.length;++e)a[t.charAt(e)]*=i;return a.normalize()},a.toString=function(){return a.a>=1?"rgb("+[a.r,a.g,a.b].join(",")+")":"rgba("+[a.r,a.g,a.b,a.a].join(",")+")"},a.normalize=function(){function t(t,i,e){return i<t?t:i>e?e:i}return a.r=t(0,parseInt(a.r),255),a.g=t(0,parseInt(a.g),255),a.b=t(0,parseInt(a.b),255),a.a=t(0,a.a,1),a},a.clone=function(){return t.color.make(a.r,a.b,a.g,a.a)},a.normalize()},t.color.extract=function(i,e){var n;do{if(""!=(n=i.css(e).toLowerCase())&&"transparent"!=n)break;i=i.parent()}while(!t.nodeName(i.get(0),"body"));return"rgba(0, 0, 0, 0)"==n&&(n="transparent"),t.color.parse(n)},t.color.parse=function(e){var n,o=t.color.make;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))return o(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10));if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return o(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]));if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))return o(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]));if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return o(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]),parseFloat(n[4]));if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))return o(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16));if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))return o(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16));var a=t.trim(e).toLowerCase();return"transparent"==a?o(255,255,255,0):o((n=i[a]||[0,0,0])[0],n[1],n[2])};var i={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(t){function e(e,o,a,r){var l=[],s={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},c=null,u=null,f=null,h=null,d=null,m=[],p=[],x={left:0,right:0,top:0,bottom:0},g=0,v=0,b=0,k=0,y={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},T=this;function w(t,i){i=[T].concat(i);for(var e=0;e<t.length;++e)t[e].apply(this,i)}function M(i){l=function(i){for(var e=[],n=0;n<i.length;++n){var o=t.extend(!0,{},s.series);null!=i[n].data?(o.data=i[n].data,delete i[n].data,t.extend(!0,o,i[n]),i[n].data=o.data):o.data=i[n],e.push(o)}return e}(i),function(){var i,e=l.length,n=[],o=[];for(i=0;i<l.length;++i){var a=l[i].color;null!=a&&(--e,"number"==typeof a?o.push(a):n.push(t.color.parse(l[i].color)))}for(i=0;i<o.length;++i)e=Math.max(e,o[i]+1);var r=[],c=0;i=0;for(;r.length<e;){var u,f=c%2==1?-1:1;(u=s.colors.length==i?t.color.make(100,100,100):t.color.parse(s.colors[i])).scale("rgb",1+f*Math.ceil(c/2)*.2),r.push(u),++i>=s.colors.length&&(i=0,++c)}var h,d=0;for(i=0;i<l.length;++i){if(null==(h=l[i]).color?(h.color=r[d].toString(),++d):"number"==typeof h.color&&(h.color=r[h.color].toString()),null==h.lines.show){var x,g=!0;for(x in h)if(h[x]&&h[x].show){g=!1;break}g&&(h.lines.show=!0)}h.xaxis=W(m,C(h,"x")),h.yaxis=W(p,C(h,"y"))}}(),function(){var i,e,n,o,a,r,s,c,u,f,h=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,m=Number.MAX_VALUE;function p(t,i,e){i<t.datamin&&i!=-m&&(t.datamin=i),e>t.datamax&&e!=m&&(t.datamax=e)}for(t.each(S(),(function(t,i){i.datamin=h,i.datamax=d,i.used=!1})),i=0;i<l.length;++i)(a=l[i]).datapoints={points:[]},w(y.processRawData,[a,a.data,a.datapoints]);for(i=0;i<l.length;++i){var x=(a=l[i]).data,g=a.datapoints.format;if(g||((g=[]).push({x:!0,number:!0,required:!0}),g.push({y:!0,number:!0,required:!0}),(a.bars.show||a.lines.show&&a.lines.fill)&&(g.push({y:!0,number:!0,required:!1,defaultValue:0}),a.bars.horizontal&&(delete g[g.length-1].y,g[g.length-1].x=!0)),a.datapoints.format=g),null==a.datapoints.pointsize)for(a.datapoints.pointsize=g.length,s=a.datapoints.pointsize,r=a.datapoints.points,insertSteps=a.lines.show&&a.lines.steps,a.xaxis.used=a.yaxis.used=!0,e=n=0;e<x.length;++e,n+=s){var v=null==(f=x[e]);if(!v)for(o=0;o<s;++o)c=f[o],(u=g[o])&&(u.number&&null!=c&&(c=+c,isNaN(c)?c=null:c==1/0?c=m:c==-1/0&&(c=-m)),null==c&&(u.required&&(v=!0),null!=u.defaultValue&&(c=u.defaultValue))),r[n+o]=c;if(v)for(o=0;o<s;++o)null!=(c=r[n+o])&&((u=g[o]).x&&p(a.xaxis,c,c),u.y&&p(a.yaxis,c,c)),r[n+o]=null;else if(insertSteps&&n>0&&null!=r[n-s]&&r[n-s]!=r[n]&&r[n-s+1]!=r[n+1]){for(o=0;o<s;++o)r[n+s+o]=r[n+o];r[n+1]=r[n-s+1],n+=s}}}for(i=0;i<l.length;++i)a=l[i],w(y.processDatapoints,[a,a.datapoints]);for(i=0;i<l.length;++i){r=(a=l[i]).datapoints.points,s=a.datapoints.pointsize;var b=h,k=h,T=d,M=d;for(e=0;e<r.length;e+=s)if(null!=r[e])for(o=0;o<s;++o)c=r[e+o],(u=g[o])&&c!=m&&c!=-m&&(u.x&&(c<b&&(b=c),c>T&&(T=c)),u.y&&(c<k&&(k=c),c>M&&(M=c)));if(a.bars.show){var C="left"==a.bars.align?0:-a.bars.barWidth/2;a.bars.horizontal?(k+=C,M+=C+a.bars.barWidth):(b+=C,T+=C+a.bars.barWidth)}p(a.xaxis,b,T),p(a.yaxis,k,M)}t.each(S(),(function(t,i){i.datamin==h&&(i.datamin=null),i.datamax==d&&(i.datamax=null)}))}()}function C(t,i){var e=t[i+"axis"];return"object"==typeof e&&(e=e.n),"number"!=typeof e&&(e=1),e}function S(){return t.grep(m.concat(p),(function(t){return t}))}function z(t){var i,e,n={};for(i=0;i<m.length;++i)(e=m[i])&&e.used&&(n["x"+e.n]=e.c2p(t.left));for(i=0;i<p.length;++i)(e=p[i])&&e.used&&(n["y"+e.n]=e.c2p(t.top));return void 0!==n.x1&&(n.x=n.x1),void 0!==n.y1&&(n.y=n.y1),n}function W(i,e){return i[e-1]||(i[e-1]={n:e,direction:i==m?"x":"y",options:t.extend(!0,{},i==m?s.xaxis:s.yaxis)}),i[e-1]}function A(i,n){var o=document.createElement("canvas");return o.className=n,o.width=g,o.height=v,i||t(o).css({position:"absolute",left:0,top:0}),t(o).appendTo(e),o.getContext||(o=window.G_vmlCanvasManager.initElement(o)),o.getContext("2d").save(),o}function I(){if(g=e.width(),v=e.height(),g<=0||v<=0)throw"Invalid dimensions for plot, width = "+g+", height = "+v}function U(t){t.width!=g&&(t.width=g),t.height!=v&&(t.height=v);var i=t.getContext("2d");i.restore(),i.save()}function F(i){var e=i.labelWidth,n=i.labelHeight,o=i.options.position,a=i.options.tickLength,r=s.grid.axisMargin,l=s.grid.labelMargin,c="x"==i.direction?m:p,u=t.grep(c,(function(t){return t&&t.options.position==o&&t.reserveSpace}));t.inArray(i,u)==u.length-1&&(r=0),null==a&&(a="full");var f=t.grep(c,(function(t){return t&&t.reserveSpace})),h=0==t.inArray(i,f);h||"full"!=a||(a=5),isNaN(+a)||(l+=+a),"x"==i.direction?(n+=l,"bottom"==o?(x.bottom+=n+r,i.box={top:v-x.bottom,height:n}):(i.box={top:x.top+r,height:n},x.top+=n+r)):(e+=l,"left"==o?(i.box={left:x.left+r,width:e},x.left+=e+r):(x.right+=e+r,i.box={left:g-x.right,width:e})),i.position=o,i.tickLength=a,i.box.padding=l,i.innermost=h}function N(){var i,o=S();if(t.each(o,(function(t,i){i.show=i.options.show,null==i.show&&(i.show=i.used),i.reserveSpace=i.show||i.options.reserveSpace,function(t){var i=t.options,e=+(null!=i.min?i.min:t.datamin),n=+(null!=i.max?i.max:t.datamax),o=n-e;if(0==o){var a=0==n?1:.01;null==i.min&&(e-=a),null!=i.max&&null==i.min||(n+=a)}else{var r=i.autoscaleMargin;null!=r&&(null==i.min&&(e-=o*r)<0&&null!=t.datamin&&t.datamin>=0&&(e=0),null==i.max&&(n+=o*r)>0&&null!=t.datamax&&t.datamax<=0&&(n=0))}t.min=e,t.max=n}(i)})),allocatedAxes=t.grep(o,(function(t){return t.reserveSpace})),x.left=x.right=x.top=x.bottom=0,s.grid.show){for(t.each(allocatedAxes,(function(i,o){!function(i){var e,o=i.options;e="number"==typeof o.ticks&&o.ticks>0?o.ticks:.3*Math.sqrt("x"==i.direction?g:v);var a,r,l,s,c,u,f=(i.max-i.min)/e;if("time"==o.mode){var h={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},d=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],x=0;null!=o.minTickSize&&(x="number"==typeof o.tickSize?o.tickSize:o.minTickSize[0]*h[o.minTickSize[1]]);for(var b=0;b<d.length-1&&!(f<(d[b][0]*h[d[b][1]]+d[b+1][0]*h[d[b+1][1]])/2&&d[b][0]*h[d[b][1]]>=x);++b);a=d[b][0],"year"==(l=d[b][1])&&(c=Math.pow(10,Math.floor(Math.log(f/h.year)/Math.LN10)),a=(u=f/h.year/c)<1.5?1:u<3?2:u<7.5?5:10,a*=c),i.tickSize=o.tickSize||[a,l],r=function(t){var i=[],e=t.tickSize[0],o=t.tickSize[1],a=new Date(t.min),r=e*h[o];"second"==o&&a.setUTCSeconds(n(a.getUTCSeconds(),e)),"minute"==o&&a.setUTCMinutes(n(a.getUTCMinutes(),e)),"hour"==o&&a.setUTCHours(n(a.getUTCHours(),e)),"month"==o&&a.setUTCMonth(n(a.getUTCMonth(),e)),"year"==o&&a.setUTCFullYear(n(a.getUTCFullYear(),e)),a.setUTCMilliseconds(0),r>=h.minute&&a.setUTCSeconds(0),r>=h.hour&&a.setUTCMinutes(0),r>=h.day&&a.setUTCHours(0),r>=4*h.day&&a.setUTCDate(1),r>=h.year&&a.setUTCMonth(0);var l,s=0,c=Number.NaN;do{if(l=c,c=a.getTime(),i.push(c),"month"==o)if(e<1){a.setUTCDate(1);var u=a.getTime();a.setUTCMonth(a.getUTCMonth()+1);var f=a.getTime();a.setTime(c+s*h.hour+(f-u)*e),s=a.getUTCHours(),a.setUTCHours(0)}else a.setUTCMonth(a.getUTCMonth()+e);else"year"==o?a.setUTCFullYear(a.getUTCFullYear()+e):a.setTime(c+r)}while(c<t.max&&c!=l);return i},s=function(i,e){var n=new Date(i);if(null!=o.timeformat)return t.plot.formatDate(n,o.timeformat,o.monthNames);var a=e.tickSize[0]*h[e.tickSize[1]],r=e.max-e.min,l=o.twelveHourClock?" %p":"";return a<h.minute?fmt="%h:%M:%S"+l:a<h.day?r<2*h.day?fmt="%h:%M"+l:fmt="%b %d %h:%M"+l:a<h.month?fmt="%b %d":a<h.year?r<h.year?fmt="%b":fmt="%b %y":fmt="%y",t.plot.formatDate(n,fmt,o.monthNames)}}else{var k=o.tickDecimals,y=-Math.floor(Math.log(f)/Math.LN10);null!=k&&y>k&&(y=k),(u=f/(c=Math.pow(10,-y)))<1.5?a=1:u<3?(a=2,u>2.25&&(null==k||y+1<=k)&&(a=2.5,++y)):a=u<7.5?5:10,a*=c,null!=o.minTickSize&&a<o.minTickSize&&(a=o.minTickSize),i.tickDecimals=Math.max(0,null!=k?k:y),i.tickSize=o.tickSize||a,r=function(t){var i,e=[],o=n(t.min,t.tickSize),a=0,r=Number.NaN;do{i=r,r=o+a*t.tickSize,e.push(r),++a}while(r<t.max&&r!=i);return e},s=function(t,i){return t.toFixed(i.tickDecimals)}}if(null!=o.alignTicksWithAxis){var T=("x"==i.direction?m:p)[o.alignTicksWithAxis-1];if(T&&T.used&&T!=i){var w=r(i);if(w.length>0&&(null==o.min&&(i.min=Math.min(i.min,w[0])),null==o.max&&w.length>1&&(i.max=Math.max(i.max,w[w.length-1]))),r=function(t){var i,e,n=[];for(e=0;e<T.ticks.length;++e)i=(T.ticks[e].v-T.min)/(T.max-T.min),i=t.min+i*(t.max-t.min),n.push(i);return n},"time"!=i.mode&&null==o.tickDecimals){var M=Math.max(0,1-Math.floor(Math.log(f)/Math.LN10)),C=r(i);C.length>1&&/\..*0$/.test((C[1]-C[0]).toFixed(M))||(i.tickDecimals=M)}}}i.tickGenerator=r,t.isFunction(o.tickFormatter)?i.tickFormatter=function(t,i){return""+o.tickFormatter(t,i)}:i.tickFormatter=s}(o),function(i){var e,n,o=i.options.ticks,a=[];null==o||"number"==typeof o&&o>0?a=i.tickGenerator(i):o&&(a=t.isFunction(o)?o({min:i.min,max:i.max}):o);for(i.ticks=[],e=0;e<a.length;++e){var r=null,l=a[e];"object"==typeof l?(n=+l[0],l.length>1&&(r=l[1])):n=+l,null==r&&(r=i.tickFormatter(n,i)),isNaN(n)||i.ticks.push({v:n,label:r})}}(o),function(t,i){t.options.autoscaleMargin&&i.length>0&&(null==t.options.min&&(t.min=Math.min(t.min,i[0].v)),null==t.options.max&&i.length>1&&(t.max=Math.max(t.max,i[i.length-1].v)))}(o,o.ticks),function(i){var n,o,a,r=i.options,l=i.ticks||[],s=[],c=r.labelWidth,u=r.labelHeight;function f(n,o){return t('<div style="position:absolute;top:-10000px;'+o+'font-size:smaller"><div class="'+i.direction+"Axis "+i.direction+i.n+'Axis">'+n.join("")+"</div></div>").appendTo(e)}if("x"==i.direction){if(null==c&&(c=Math.floor(g/(l.length>0?l.length:1))),null==u){for(s=[],n=0;n<l.length;++n)(o=l[n].label)&&s.push('<div class="tickLabel" style="float:left;width:'+c+'px">'+o+"</div>");s.length>0&&(s.push('<div style="clear:left"></div>'),u=(a=f(s,"width:10000px;")).height(),a.remove())}}else if(null==c||null==u){for(n=0;n<l.length;++n)(o=l[n].label)&&s.push('<div class="tickLabel">'+o+"</div>");s.length>0&&(a=f(s,""),null==c&&(c=a.children().width()),null==u&&(u=a.find("div.tickLabel").height()),a.remove())}null==c&&(c=0),null==u&&(u=0),i.labelWidth=c,i.labelHeight=u}(o)})),i=allocatedAxes.length-1;i>=0;--i)F(allocatedAxes[i]);var a=s.grid.minBorderMargin;if(null==a)for(a=0,i=0;i<l.length;++i)a=Math.max(a,l[i].points.radius+l[i].points.lineWidth/2);for(var r in x)x[r]+=s.grid.borderWidth,x[r]=Math.max(a,x[r])}b=g-x.left-x.right,k=v-x.bottom-x.top,t.each(o,(function(t,i){!function(t){function i(t){return t}var e,n,o=t.options.transform||i,a=t.options.inverseTransform;"x"==t.direction?(e=t.scale=b/Math.abs(o(t.max)-o(t.min)),n=Math.min(o(t.max),o(t.min))):(e=-(e=t.scale=k/Math.abs(o(t.max)-o(t.min))),n=Math.max(o(t.max),o(t.min))),t.p2c=o==i?function(t){return(t-n)*e}:function(t){return(o(t)-n)*e},t.c2p=a?function(t){return a(n+t/e)}:function(t){return n+t/e}}(i)})),s.grid.show&&(t.each(allocatedAxes,(function(t,i){!function(t){"x"==t.direction?(t.box.left=x.left,t.box.width=b):(t.box.top=x.top,t.box.height=k)}(i)})),function(){e.find(".tickLabels").remove();for(var t=['<div class="tickLabels" style="font-size:smaller">'],i=S(),n=0;n<i.length;++n){var o=i[n],a=o.box;if(o.show){t.push('<div class="'+o.direction+"Axis "+o.direction+o.n+'Axis" style="color:'+o.options.color+'">');for(var r=0;r<o.ticks.length;++r){var l=o.ticks[r];if(!(!l.label||l.v<o.min||l.v>o.max)){var s,c={};"x"==o.direction?(s="center",c.left=Math.round(x.left+o.p2c(l.v)-o.labelWidth/2),"bottom"==o.position?c.top=a.top+a.padding:c.bottom=v-(a.top+a.height-a.padding)):(c.top=Math.round(x.top+o.p2c(l.v)-o.labelHeight/2),"left"==o.position?(c.right=g-(a.left+a.width-a.padding),s="right"):(c.left=a.left+a.padding,s="left")),c.width=o.labelWidth;var u=["position:absolute","text-align:"+s];for(var f in c)u.push(f+":"+c[f]+"px");t.push('<div class="tickLabel" style="'+u.join(";")+'">'+l.label+"</div>")}}t.push("</div>")}}t.push("</div>"),e.append(t.join(""))}()),function(){if(e.find(".legend").remove(),!s.legend.show)return;for(var i,n,o=[],a=!1,r=s.legend.labelFormatter,c=0;c<l.length;++c)(n=(i=l[c]).label)&&(c%s.legend.noColumns==0&&(a&&o.push("</tr>"),o.push("<tr>"),a=!0),r&&(n=r(n,i)),o.push('<td class="legendColorBox"><div style="border:1px solid '+s.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+i.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+n+"</td>"));a&&o.push("</tr>");if(0==o.length)return;var u='<table style="font-size:smaller;color:'+s.grid.color+'">'+o.join("")+"</table>";if(null!=s.legend.container)t(s.legend.container).html(u);else{var f="",h=s.legend.position,d=s.legend.margin;null==d[0]&&(d=[d,d]),"n"==h.charAt(0)?f+="top:"+(d[1]+x.top)+"px;":"s"==h.charAt(0)&&(f+="bottom:"+(d[1]+x.bottom)+"px;"),"e"==h.charAt(1)?f+="right:"+(d[0]+x.right)+"px;":"w"==h.charAt(1)&&(f+="left:"+(d[0]+x.left)+"px;");var m=t('<div class="legend">'+u.replace('style="','style="position:absolute;'+f+";")+"</div>").appendTo(e);if(0!=s.legend.backgroundOpacity){var p=s.legend.backgroundColor;null==p&&((p=(p=s.grid.backgroundColor)&&"string"==typeof p?t.color.parse(p):t.color.extract(m,"background-color")).a=1,p=p.toString());var g=m.children();t('<div style="position:absolute;width:'+g.width()+"px;height:"+g.height()+"px;"+f+"background-color:"+p+';"> </div>').prependTo(m).css("opacity",s.legend.backgroundOpacity)}}}()}function D(){h.clearRect(0,0,g,v);var t=s.grid;t.show&&t.backgroundColor&&(h.save(),h.translate(x.left,x.top),h.fillStyle=Z(s.grid.backgroundColor,k,0,"rgba(255, 255, 255, 0)"),h.fillRect(0,0,b,k),h.restore()),t.show&&!t.aboveData&&P();for(var i=0;i<l.length;++i)w(y.drawSeries,[h,l[i]]),H(l[i]);w(y.draw,[h]),t.show&&t.aboveData&&P()}function L(t,e){var n,o,a,r,l=S();for(i=0;i<l.length;++i)if((n=l[i]).direction==e&&(t[r=e+n.n+"axis"]||1!=n.n||(r=e+"axis"),t[r])){o=t[r].from,a=t[r].to;break}if(t[r]||(n="x"==e?m[0]:p[0],o=t[e+"1"],a=t[e+"2"]),null!=o&&null!=a&&o>a){var s=o;o=a,a=s}return{from:o,to:a,axis:n}}function P(){var i;h.save(),h.translate(x.left,x.top);var e=s.grid.markings;if(e){if(t.isFunction(e))(r=T.getAxes()).xmin=r.xaxis.min,r.xmax=r.xaxis.max,r.ymin=r.yaxis.min,r.ymax=r.yaxis.max,e=e(r);for(i=0;i<e.length;++i){var n=e[i],o=L(n,"x"),a=L(n,"y");null==o.from&&(o.from=o.axis.min),null==o.to&&(o.to=o.axis.max),null==a.from&&(a.from=a.axis.min),null==a.to&&(a.to=a.axis.max),o.to<o.axis.min||o.from>o.axis.max||a.to<a.axis.min||a.from>a.axis.max||(o.from=Math.max(o.from,o.axis.min),o.to=Math.min(o.to,o.axis.max),a.from=Math.max(a.from,a.axis.min),a.to=Math.min(a.to,a.axis.max),o.from==o.to&&a.from==a.to||(o.from=o.axis.p2c(o.from),o.to=o.axis.p2c(o.to),a.from=a.axis.p2c(a.from),a.to=a.axis.p2c(a.to),o.from==o.to||a.from==a.to?(h.beginPath(),h.strokeStyle=n.color||s.grid.markingsColor,h.lineWidth=n.lineWidth||s.grid.markingsLineWidth,h.moveTo(o.from,a.from),h.lineTo(o.to,a.to),h.stroke()):(h.fillStyle=n.color||s.grid.markingsColor,h.fillRect(o.from,a.to,o.to-o.from,a.from-a.to))))}}for(var r=S(),l=s.grid.borderWidth,c=0;c<r.length;++c){var u,f,d,m,p=r[c],g=p.box,v=p.tickLength;if(p.show&&0!=p.ticks.length){for(h.strokeStyle=p.options.tickColor||t.color.parse(p.options.color).scale("a",.22).toString(),h.lineWidth=1,"x"==p.direction?(u=0,f="full"==v?"top"==p.position?0:k:g.top-x.top+("top"==p.position?g.height:0)):(f=0,u="full"==v?"left"==p.position?0:b:g.left-x.left+("left"==p.position?g.width:0)),p.innermost||(h.beginPath(),d=m=0,"x"==p.direction?d=b:m=k,1==h.lineWidth&&(u=Math.floor(u)+.5,f=Math.floor(f)+.5),h.moveTo(u,f),h.lineTo(u+d,f+m),h.stroke()),h.beginPath(),i=0;i<p.ticks.length;++i){var y=p.ticks[i].v;d=m=0,y<p.min||y>p.max||"full"==v&&l>0&&(y==p.min||y==p.max)||("x"==p.direction?(u=p.p2c(y),m="full"==v?-k:v,"top"==p.position&&(m=-m)):(f=p.p2c(y),d="full"==v?-b:v,"left"==p.position&&(d=-d)),1==h.lineWidth&&("x"==p.direction?u=Math.floor(u)+.5:f=Math.floor(f)+.5),h.moveTo(u,f),h.lineTo(u+d,f+m))}h.stroke()}}l&&(h.lineWidth=l,h.strokeStyle=s.grid.borderColor,h.strokeRect(-l/2,-l/2,b+l,k+l)),h.restore()}function H(t){t.lines.show&&function(t){function i(t,i,e,n,o){var a=t.points,r=t.pointsize,l=null,s=null;h.beginPath();for(var c=r;c<a.length;c+=r){var u=a[c-r],f=a[c-r+1],d=a[c],m=a[c+1];if(null!=u&&null!=d){if(f<=m&&f<o.min){if(m<o.min)continue;u=(o.min-f)/(m-f)*(d-u)+u,f=o.min}else if(m<=f&&m<o.min){if(f<o.min)continue;d=(o.min-f)/(m-f)*(d-u)+u,m=o.min}if(f>=m&&f>o.max){if(m>o.max)continue;u=(o.max-f)/(m-f)*(d-u)+u,f=o.max}else if(m>=f&&m>o.max){if(f>o.max)continue;d=(o.max-f)/(m-f)*(d-u)+u,m=o.max}if(u<=d&&u<n.min){if(d<n.min)continue;f=(n.min-u)/(d-u)*(m-f)+f,u=n.min}else if(d<=u&&d<n.min){if(u<n.min)continue;m=(n.min-u)/(d-u)*(m-f)+f,d=n.min}if(u>=d&&u>n.max){if(d>n.max)continue;f=(n.max-u)/(d-u)*(m-f)+f,u=n.max}else if(d>=u&&d>n.max){if(u>n.max)continue;m=(n.max-u)/(d-u)*(m-f)+f,d=n.max}u==l&&f==s||h.moveTo(n.p2c(u)+i,o.p2c(f)+e),l=d,s=m,h.lineTo(n.p2c(d)+i,o.p2c(m)+e)}}h.stroke()}function e(t,i,e){for(var n=t.points,o=t.pointsize,a=Math.min(Math.max(0,e.min),e.max),r=0,l=!1,s=1,c=0,u=0;!(o>0&&r>n.length+o);){var f=n[(r+=o)-o],d=n[r-o+s],m=n[r],p=n[r+s];if(l){if(o>0&&null!=f&&null==m){u=r,o=-o,s=2;continue}if(o<0&&r==c+o){h.fill(),l=!1,s=1,r=c=u+(o=-o);continue}}if(null!=f&&null!=m){if(f<=m&&f<i.min){if(m<i.min)continue;d=(i.min-f)/(m-f)*(p-d)+d,f=i.min}else if(m<=f&&m<i.min){if(f<i.min)continue;p=(i.min-f)/(m-f)*(p-d)+d,m=i.min}if(f>=m&&f>i.max){if(m>i.max)continue;d=(i.max-f)/(m-f)*(p-d)+d,f=i.max}else if(m>=f&&m>i.max){if(f>i.max)continue;p=(i.max-f)/(m-f)*(p-d)+d,m=i.max}if(l||(h.beginPath(),h.moveTo(i.p2c(f),e.p2c(a)),l=!0),d>=e.max&&p>=e.max)h.lineTo(i.p2c(f),e.p2c(e.max)),h.lineTo(i.p2c(m),e.p2c(e.max));else if(d<=e.min&&p<=e.min)h.lineTo(i.p2c(f),e.p2c(e.min)),h.lineTo(i.p2c(m),e.p2c(e.min));else{var x=f,g=m;d<=p&&d<e.min&&p>=e.min?(f=(e.min-d)/(p-d)*(m-f)+f,d=e.min):p<=d&&p<e.min&&d>=e.min&&(m=(e.min-d)/(p-d)*(m-f)+f,p=e.min),d>=p&&d>e.max&&p<=e.max?(f=(e.max-d)/(p-d)*(m-f)+f,d=e.max):p>=d&&p>e.max&&d<=e.max&&(m=(e.max-d)/(p-d)*(m-f)+f,p=e.max),f!=x&&h.lineTo(i.p2c(x),e.p2c(d)),h.lineTo(i.p2c(f),e.p2c(d)),h.lineTo(i.p2c(m),e.p2c(p)),m!=g&&(h.lineTo(i.p2c(m),e.p2c(p)),h.lineTo(i.p2c(g),e.p2c(p)))}}}}h.save(),h.translate(x.left,x.top),h.lineJoin="round";var n=t.lines.lineWidth,o=t.shadowSize;if(n>0&&o>0){h.lineWidth=o,h.strokeStyle="rgba(0,0,0,0.1)";var a=Math.PI/18;i(t.datapoints,Math.sin(a)*(n/2+o/2),Math.cos(a)*(n/2+o/2),t.xaxis,t.yaxis),h.lineWidth=o/2,i(t.datapoints,Math.sin(a)*(n/2+o/4),Math.cos(a)*(n/2+o/4),t.xaxis,t.yaxis)}h.lineWidth=n,h.strokeStyle=t.color;var r=Y(t.lines,t.color,0,k);r&&(h.fillStyle=r,e(t.datapoints,t.xaxis,t.yaxis));n>0&&i(t.datapoints,0,0,t.xaxis,t.yaxis);h.restore()}(t),t.bars.show&&function(t){function i(i,e,n,o,a,r,l){for(var s=i.points,c=i.pointsize,u=0;u<s.length;u+=c)null!=s[u]&&O(s[u],s[u+1],s[u+2],e,n,o,a,r,l,h,t.bars.horizontal,t.bars.lineWidth)}h.save(),h.translate(x.left,x.top),h.lineWidth=t.bars.lineWidth,h.strokeStyle=t.color;var e="left"==t.bars.align?0:-t.bars.barWidth/2,n=t.bars.fill?function(i,e){return Y(t.bars,t.color,i,e)}:null;i(t.datapoints,e,e+t.bars.barWidth,0,n,t.xaxis,t.yaxis),h.restore()}(t),t.points.show&&function(t){function i(t,i,e,n,o,a,r,l){for(var s=t.points,c=t.pointsize,u=0;u<s.length;u+=c){var f=s[u],d=s[u+1];null==f||f<a.min||f>a.max||d<r.min||d>r.max||(h.beginPath(),f=a.p2c(f),d=r.p2c(d)+n,"circle"==l?h.arc(f,d,i,0,o?Math.PI:2*Math.PI,!1):l(h,f,d,i,o),h.closePath(),e&&(h.fillStyle=e,h.fill()),h.stroke())}}h.save(),h.translate(x.left,x.top);var e=t.points.lineWidth,n=t.shadowSize,o=t.points.radius,a=t.points.symbol;if(e>0&&n>0){var r=n/2;h.lineWidth=r,h.strokeStyle="rgba(0,0,0,0.1)",i(t.datapoints,o,null,r+r/2,!0,t.xaxis,t.yaxis,a),h.strokeStyle="rgba(0,0,0,0.2)",i(t.datapoints,o,null,r/2,!0,t.xaxis,t.yaxis,a)}h.lineWidth=e,h.strokeStyle=t.color,i(t.datapoints,o,Y(t.points,t.color),0,!1,t.xaxis,t.yaxis,a),h.restore()}(t)}function O(t,i,e,n,o,a,r,l,s,c,u,f){var h,d,m,p,x,g,v,b,k;u?(b=g=v=!0,x=!1,p=i+n,m=i+o,(d=t)<(h=e)&&(k=d,d=h,h=k,x=!0,g=!1)):(x=g=v=!0,b=!1,h=t+n,d=t+o,(p=i)<(m=e)&&(k=p,p=m,m=k,b=!0,v=!1)),d<l.min||h>l.max||p<s.min||m>s.max||(h<l.min&&(h=l.min,x=!1),d>l.max&&(d=l.max,g=!1),m<s.min&&(m=s.min,b=!1),p>s.max&&(p=s.max,v=!1),h=l.p2c(h),m=s.p2c(m),d=l.p2c(d),p=s.p2c(p),r&&(c.beginPath(),c.moveTo(h,m),c.lineTo(h,p),c.lineTo(d,p),c.lineTo(d,m),c.fillStyle=r(m,p),c.fill()),f>0&&(x||g||v||b)&&(c.beginPath(),c.moveTo(h,m+a),x?c.lineTo(h,p+a):c.moveTo(h,p+a),v?c.lineTo(d,p+a):c.moveTo(d,p+a),g?c.lineTo(d,m+a):c.moveTo(d,m+a),b?c.lineTo(h,m+a):c.moveTo(h,m+a),c.stroke()))}function Y(i,e,n,o){var a=i.fill;if(!a)return null;if(i.fillColor)return Z(i.fillColor,n,o,e);var r=t.color.parse(e);return r.a="number"==typeof a?a:.4,r.normalize(),r.toString()}T.setData=M,T.setupGrid=N,T.draw=D,T.getPlaceholder=function(){return e},T.getCanvas=function(){return c},T.getPlotOffset=function(){return x},T.width=function(){return b},T.height=function(){return k},T.offset=function(){var t=f.offset();return t.left+=x.left,t.top+=x.top,t},T.getData=function(){return l},T.getAxes=function(){var i={};return t.each(m.concat(p),(function(t,e){e&&(i[e.direction+(1!=e.n?e.n:"")+"axis"]=e)})),i},T.getXAxes=function(){return m},T.getYAxes=function(){return p},T.c2p=z,T.p2c=function(t){var i,e,n,o={};for(i=0;i<m.length;++i)if((e=m[i])&&e.used&&(null==t[n="x"+e.n]&&1==e.n&&(n="x"),null!=t[n])){o.left=e.p2c(t[n]);break}for(i=0;i<p.length;++i)if((e=p[i])&&e.used&&(null==t[n="y"+e.n]&&1==e.n&&(n="y"),null!=t[n])){o.top=e.p2c(t[n]);break}return o},T.getOptions=function(){return s},T.highlight=_,T.unhighlight=Q,T.triggerRedrawOverlay=q,T.pointOffset=function(t){return{left:parseInt(m[C(t,"x")-1].p2c(+t.x)+x.left),top:parseInt(p[C(t,"y")-1].p2c(+t.y)+x.top)}},T.shutdown=function(){R&&clearTimeout(R);f.unbind("mousemove",E),f.unbind("mouseleave",V),f.unbind("click",X),w(y.shutdown,[f])},T.resize=function(){I(),U(c),U(u)},T.hooks=y,function(){for(var i=0;i<r.length;++i){var e=r[i];e.init(T),e.options&&t.extend(!0,s,e.options)}}(),function(i){var e;t.extend(!0,s,i),null==s.xaxis.color&&(s.xaxis.color=s.grid.color);null==s.yaxis.color&&(s.yaxis.color=s.grid.color);null==s.xaxis.tickColor&&(s.xaxis.tickColor=s.grid.tickColor);null==s.yaxis.tickColor&&(s.yaxis.tickColor=s.grid.tickColor);null==s.grid.borderColor&&(s.grid.borderColor=s.grid.color);null==s.grid.tickColor&&(s.grid.tickColor=t.color.parse(s.grid.color).scale("a",.22).toString());for(e=0;e<Math.max(1,s.xaxes.length);++e)s.xaxes[e]=t.extend(!0,{},s.xaxis,s.xaxes[e]);for(e=0;e<Math.max(1,s.yaxes.length);++e)s.yaxes[e]=t.extend(!0,{},s.yaxis,s.yaxes[e]);s.xaxis.noTicks&&null==s.xaxis.ticks&&(s.xaxis.ticks=s.xaxis.noTicks);s.yaxis.noTicks&&null==s.yaxis.ticks&&(s.yaxis.ticks=s.yaxis.noTicks);s.x2axis&&(s.xaxes[1]=t.extend(!0,{},s.xaxis,s.x2axis),s.xaxes[1].position="top");s.y2axis&&(s.yaxes[1]=t.extend(!0,{},s.yaxis,s.y2axis),s.yaxes[1].position="right");s.grid.coloredAreas&&(s.grid.markings=s.grid.coloredAreas);s.grid.coloredAreasColor&&(s.grid.markingsColor=s.grid.coloredAreasColor);s.lines&&t.extend(!0,s.series.lines,s.lines);s.points&&t.extend(!0,s.series.points,s.points);s.bars&&t.extend(!0,s.series.bars,s.bars);null!=s.shadowSize&&(s.series.shadowSize=s.shadowSize);for(e=0;e<s.xaxes.length;++e)W(m,e+1).options=s.xaxes[e];for(e=0;e<s.yaxes.length;++e)W(p,e+1).options=s.yaxes[e];for(var n in y)s.hooks[n]&&s.hooks[n].length&&(y[n]=y[n].concat(s.hooks[n]));w(y.processOptions,[s])}(a),function(){var i,n=e.children("canvas.base"),o=e.children("canvas.overlay");0==n.length||0==o?(e.html(""),e.css({padding:0}),"static"==e.css("position")&&e.css("position","relative"),I(),c=A(!0,"base"),u=A(!1,"overlay"),i=!1):(c=n.get(0),u=o.get(0),i=!0);h=c.getContext("2d"),d=u.getContext("2d"),f=t([u,c]),i&&(e.data("plot").shutdown(),T.resize(),d.clearRect(0,0,g,v),f.unbind(),e.children().not([c,u]).remove());e.data("plot",T)}(),M(o),N(),D(),function(){s.grid.hoverable&&(f.mousemove(E),f.mouseleave(V));s.grid.clickable&&f.click(X);w(y.bindEvents,[f])}();var j=[],R=null;function E(t){s.grid.hoverable&&B("plothover",t,(function(t){return 0!=t.hoverable}))}function V(t){s.grid.hoverable&&B("plothover",t,(function(t){return!1}))}function X(t){B("plotclick",t,(function(t){return 0!=t.clickable}))}function B(t,i,n){var o=f.offset(),a=i.pageX-o.left-x.left,r=i.pageY-o.top-x.top,c=z({left:a,top:r});c.pageX=i.pageX,c.pageY=i.pageY;var u=function(t,i,e){var n,o,a=s.grid.mouseActiveRadius,r=a*a+1,c=null;for(n=l.length-1;n>=0;--n)if(e(l[n])){var u=l[n],f=u.xaxis,h=u.yaxis,d=u.datapoints.points,m=u.datapoints.pointsize,p=f.c2p(t),x=h.c2p(i),g=a/f.scale,v=a/h.scale;if(f.options.inverseTransform&&(g=Number.MAX_VALUE),h.options.inverseTransform&&(v=Number.MAX_VALUE),u.lines.show||u.points.show)for(o=0;o<d.length;o+=m){var b=d[o],k=d[o+1];if(null!=b&&!(b-p>g||b-p<-g||k-x>v||k-x<-v)){var y=Math.abs(f.p2c(b)-t),T=Math.abs(h.p2c(k)-i),w=y*y+T*T;w<r&&(r=w,c=[n,o/m])}}if(u.bars.show&&!c){var M="left"==u.bars.align?0:-u.bars.barWidth/2,C=M+u.bars.barWidth;for(o=0;o<d.length;o+=m){b=d[o],k=d[o+1];var S=d[o+2];null!=b&&(l[n].bars.horizontal?p<=Math.max(S,b)&&p>=Math.min(S,b)&&x>=k+M&&x<=k+C:p>=b+M&&p<=b+C&&x>=Math.min(S,k)&&x<=Math.max(S,k))&&(c=[n,o/m])}}}return c?(n=c[0],o=c[1],m=l[n].datapoints.pointsize,{datapoint:l[n].datapoints.points.slice(o*m,(o+1)*m),dataIndex:o,series:l[n],seriesIndex:n}):null}(a,r,n);if(u&&(u.pageX=parseInt(u.series.xaxis.p2c(u.datapoint[0])+o.left+x.left),u.pageY=parseInt(u.series.yaxis.p2c(u.datapoint[1])+o.top+x.top)),s.grid.autoHighlight){for(var h=0;h<j.length;++h){var d=j[h];d.auto!=t||u&&d.series==u.series&&d.point[0]==u.datapoint[0]&&d.point[1]==u.datapoint[1]||Q(d.series,d.point)}u&&_(u.series,u.datapoint,t)}e.trigger(t,[c,u])}function q(){R||(R=setTimeout(G,30))}function G(){var t,i;for(R=null,d.save(),d.clearRect(0,0,g,v),d.translate(x.left,x.top),t=0;t<j.length;++t)(i=j[t]).series.bars.show?K(i.series,i.point):$(i.series,i.point);d.restore(),w(y.drawOverlay,[d])}function _(t,i,e){if("number"==typeof t&&(t=l[t]),"number"==typeof i){var n=t.datapoints.pointsize;i=t.datapoints.points.slice(n*i,n*(i+1))}var o=J(t,i);-1==o?(j.push({series:t,point:i,auto:e}),q()):e||(j[o].auto=!1)}function Q(t,i){null==t&&null==i&&(j=[],q()),"number"==typeof t&&(t=l[t]),"number"==typeof i&&(i=t.data[i]);var e=J(t,i);-1!=e&&(j.splice(e,1),q())}function J(t,i){for(var e=0;e<j.length;++e){var n=j[e];if(n.series==t&&n.point[0]==i[0]&&n.point[1]==i[1])return e}return-1}function $(i,e){var n=e[0],o=e[1],a=i.xaxis,r=i.yaxis;if(!(n<a.min||n>a.max||o<r.min||o>r.max)){var l=i.points.radius+i.points.lineWidth/2;d.lineWidth=l,d.strokeStyle=t.color.parse(i.color).scale("a",.5).toString();var s=1.5*l;n=a.p2c(n),o=r.p2c(o);d.beginPath(),"circle"==i.points.symbol?d.arc(n,o,s,0,2*Math.PI,!1):i.points.symbol(d,n,o,s,!1),d.closePath(),d.stroke()}}function K(i,e){d.lineWidth=i.bars.lineWidth,d.strokeStyle=t.color.parse(i.color).scale("a",.5).toString();var n=t.color.parse(i.color).scale("a",.5).toString(),o="left"==i.bars.align?0:-i.bars.barWidth/2;O(e[0],e[1],e[2]||0,o,o+i.bars.barWidth,0,(function(){return n}),i.xaxis,i.yaxis,d,i.bars.horizontal,i.bars.lineWidth)}function Z(i,e,n,o){if("string"==typeof i)return i;for(var a=h.createLinearGradient(0,n,0,e),r=0,l=i.colors.length;r<l;++r){var s=i.colors[r];if("string"!=typeof s){var c=t.color.parse(o);null!=s.brightness&&(c=c.scale("rgb",s.brightness)),null!=s.opacity&&(c.a*=s.opacity),s=c.toString()}a.addColorStop(r/(l-1),s)}return a}}function n(t,i){return i*Math.floor(t/i)}t.plot=function(i,n,o){return new e(t(i),n,o,t.plot.plugins)},t.plot.version="0.7",t.plot.plugins=[],t.plot.formatDate=function(t,i,e){var n=function(t){return 1==(t=""+t).length?"0"+t:t},o=[],a=!1,r=!1,l=t.getUTCHours(),s=l<12;null==e&&(e=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]),-1!=i.search(/%p|%P/)&&(l>12?l-=12:0==l&&(l=12));for(var c=0;c<i.length;++c){var u=i.charAt(c);if(a){switch(u){case"h":u=""+l;break;case"H":u=n(l);break;case"M":u=n(t.getUTCMinutes());break;case"S":u=n(t.getUTCSeconds());break;case"d":u=""+t.getUTCDate();break;case"m":u=""+(t.getUTCMonth()+1);break;case"y":u=""+t.getUTCFullYear();break;case"b":u=""+e[t.getUTCMonth()];break;case"p":u=s?"am":"pm";break;case"P":u=s?"AM":"PM";break;case"0":u="",r=!0}u&&r&&(u=n(u),r=!1),o.push(u),r||(a=!1)}else"%"==u?a=!0:o.push(u)}return o.join("")}}(jQuery);