$(document).ready((function(){$.validator.setDefaults({submitHandler:function(e){e.submit()}}),jQuery.validator.addMethod("isPhone",(function(e,r){var t=e.length;return this.optional(r)||11==t&&/^1[3|4|5|7|8][0-9]\d{8}$/.test(e)}),"请填写正确的11位手机号"),jQuery.validator.addMethod("isTel",(function(e,r){return this.optional(r)||/^(0\d{2,3}-)?\d{7,8}$/g.test(e)}),"请填写正确的座机号码"),jQuery.validator.addMethod("isName",(function(e,r){return this.optional(r)||/^[\u4e00-\u9fa5]{2,6}$/.test(e)}),"姓名只能用汉字,长度2-4位"),jQuery.validator.addMethod("isUserName",(function(e,r){return this.optional(r)||/^[a-zA-Z0-9]{2,13}$/.test(e)}),"请输入数字或者字母,不包含特殊字符"),jQuery.validator.addMethod("isIdentity",(function(e,r){return this.optional(r)||/^(\d{15}$|^\d{18}$|^\d{17}(\d|X))$/.test(e)}),"请输入正确的15或18位身份证号,末尾为大写X"),jQuery.validator.addMethod("isBirth",(function(e,r){return this.optional(r)||/^(19|20)\d{2}-(1[0-2]|0?[1-9])-(0?[1-9]|[1-2][0-9]|3[0-1])$/.test(e)}),"出生日期格式示例2000-01-01"),jQuery.validator.addMethod("isdiff",(function(){return $("#pwdOld").val()!=$("#pwdNew").val()})),jQuery.validator.addMethod("issame",(function(){return $("#confirm_password").val()==$("#pwdNew").val()})),$("#basicInfoForm").validate({errorElement:"span",errorClass:"help-block error-mes",rules:{name:{required:!0,isName:!0},sex:"required",birth:"required",mobile:{required:!0,isPhone:!0},email:{required:!0,email:!0}},messages:{name:{required:"请输入中文姓名",isName:"姓名只能为汉字"},sex:{required:"请输入性别"},birth:{required:"请输入出生年月"},mobile:{required:"请输入手机号",isPhone:"请填写正确的11位手机号"},email:{required:"请输入邮箱",email:"请填写正确的邮箱格式"}},errorPlacement:function(e,r){r.next().remove(),r.closest(".gg-formGroup").append(e)},highlight:function(e){$(e).closest(".gg-formGroup").addClass("has-error has-feedback")},success:function(e){e.closest(".gg-formGroup").find("input").next().remove(),e.closest(".gg-formGroup").removeClass("has-error").addClass("has-feedback has-success"),e.remove()},submitHandler:function(e){alert("保存成功!")}}),$("#modifyPwd").validate({onfocusout:function(e){$(e).valid()},debug:!1,onkeyup:!1,rules:{pwdOld:{required:!0,minlength:6},pwdNew:{required:!0,minlength:6,isdiff:!0},confirm_password:{required:!0,minlength:6,issame:!0}},messages:{pwdOld:{required:"必填",minlength:$.validator.format("密码长度要大于6")},pwdNew:{required:"必填",minlength:$.validator.format("密码长度要大于6"),isdiff:"原密码与新密码不能重复"},confirm_password:{required:"必填",minlength:$.validator.format("密码长度要大于6"),issame:"新密码要与确认新密码一致"}},errorElement:"mes",errorClass:"gg-star",errorPlacement:function(e,r){r.closest(".gg-formGroup").append(e)}})}));