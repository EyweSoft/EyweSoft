!function(t){t.fn.extend({prettyFile:function(n){n=t.extend({text:"选择文件"},n);return this.each((function(){if($this=t(this),$this){var i=$this.attr("multiple");$wrap=(e=$this,p=n.text,e.wrap("<div></div>"),e.hide(),e.after('\t\t\t\t<div class="input-append input-group"">\t\t\t\t\t<span class="input-group-btn">\t\t\t\t\t\t<button class="btn btn-white" type="button">'+p+'</button>\t\t\t\t\t</span>\t\t\t\t\t<input class="input-large form-control" type="text">\t\t\t\t</div>\t\t\t\t'),e.parent()),function(n,i){n.find('input[type="file"]').change((function(){var e=t(this)[0].files,p="";if(0==e.length)return!1;if(i&&1!=e.length)e.length>1&&(p="已选择了"+e.length+" 个文件");else{var u=t(this).val().split("\\");p=u[u.length-1]}n.find(".input-append input").val(p)}))}($wrap,i),function(t,n){t.find(".input-append").click((function(n){n.preventDefault(),t.find('input[type="file"]').click()}))}($wrap)}var e,p}))}})}(jQuery);