!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}((function(e){"use strict";e.defineMode("dylan",(function(e){var n={unnamedDefinition:["interface"],namedDefinition:["module","library","macro","C-struct","C-union","C-function","C-callable-wrapper"],typeParameterizedDefinition:["class","C-subtype","C-mapped-subtype"],otherParameterizedDefinition:["method","function","C-variable","C-address"],constantSimpleDefinition:["constant"],variableSimpleDefinition:["variable"],otherSimpleDefinition:["generic","domain","C-pointer-type","table"],statement:["if","block","begin","method","case","for","select","when","unless","until","while","iterate","profiling","dynamic-bind"],separator:["finally","exception","cleanup","else","elseif","afterwards"],other:["above","below","by","from","handler","in","instance","let","local","otherwise","slot","subclass","then","to","keyed-by","virtual"],signalingCalls:["signal","error","cerror","break","check-type","abort"]};n.otherDefinition=n.unnamedDefinition.concat(n.namedDefinition).concat(n.otherParameterizedDefinition),n.definition=n.typeParameterizedDefinition.concat(n.otherDefinition),n.parameterizedDefinition=n.typeParameterizedDefinition.concat(n.otherParameterizedDefinition),n.simpleDefinition=n.constantSimpleDefinition.concat(n.variableSimpleDefinition).concat(n.otherSimpleDefinition),n.keyword=n.statement.concat(n.separator).concat(n.other);var t="[-_a-zA-Z?!*@<>$%]+",i=new RegExp("^"+t),r={symbolKeyword:t+":",symbolClass:"<"+t+">",symbolGlobal:"\\*"+t+"\\*",symbolConstant:"\\$"+t},o={symbolKeyword:"atom",symbolClass:"tag",symbolGlobal:"variable-2",symbolConstant:"variable-3"};for(var a in r)r.hasOwnProperty(a)&&(r[a]=new RegExp("^"+r[a]));r.keyword=[/^with(?:out)?-[-_a-zA-Z?!*@<>$%]+/];var l={keyword:"keyword",definition:"def",simpleDefinition:"def",signalingCalls:"builtin"},c={},f={};function m(e,n,t){return n.tokenize=t,t(e,n)}function s(e,n,t){return e,t,n}function u(e,n){var t=e.peek();if("'"==t||'"'==t)return e.next(),m(e,n,b(t,"string","string"));if("/"==t)return e.next(),e.eat("*")?m(e,n,d):e.eat("/")?(e.skipToEnd(),s("comment","comment")):(e.skipTo(" "),s("operator","operator"));if(/\d/.test(t))return e.match(/^\d*(?:\.\d*)?(?:e[+\-]?\d+)?/),s("number","number");if("#"==t)return e.next(),'"'==(t=e.peek())?(e.next(),m(e,n,b('"',"symbol","string-2"))):"b"==t?(e.next(),e.eatWhile(/[01]/),s("number","number")):"x"==t?(e.next(),e.eatWhile(/[\da-f]/i),s("number","number")):"o"==t?(e.next(),e.eatWhile(/[0-7]/),s("number","number")):(e.eatWhile(/[-a-zA-Z]/),s("hash","keyword"));if(e.match("end"))return s("end","keyword");for(var a in r)if(r.hasOwnProperty(a)){var l=r[a];if(l instanceof Array&&l.some((function(n){return e.match(n)}))||e.match(l))return s(a,o[a],e.current())}return e.match("define")?s("definition","def"):(e.eatWhile(/[\w\-]/),c[e.current()]?s(c[e.current()],f[e.current()],e.current()):e.current().match(i)?s("variable","variable"):(e.next(),s("other","variable-2")))}function d(e,n){for(var t,i=!1;t=e.next();){if("/"==t&&i){n.tokenize=u;break}i="*"==t}return s("comment","comment")}function b(e,n,t){return function(i,r){for(var o,a=!1;null!=(o=i.next());)if(o==e){a=!0;break}return a&&(r.tokenize=u),s(n,t)}}return["keyword","definition","simpleDefinition","signalingCalls"].forEach((function(e){n[e].forEach((function(n){c[n]=e,f[n]=l[e]}))})),{startState:function(){return{tokenize:u,currentIndent:0}},token:function(e,n){return e.eatSpace()?null:n.tokenize(e,n)},blockCommentStart:"/*",blockCommentEnd:"*/"}})),e.defineMIME("text/x-dylan","dylan")}));